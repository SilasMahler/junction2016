<!DOCTYPE html>
<html lang="en">
<head>
    <title>Digital BusStop</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"/>
    <style>
        .answerlist {
            list-style-type: none;
            padding: 0;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <h2 id="question"></h2>
    <ul class="answerlist">
        <li><button id="answer1" class="btn btn-default" type="submit" onclick="checkAnswer1()"></button></li>
        <li><button id="answer2" class="btn btn-default" type="submit" onclick="checkAnswer2()"></button></li>
        <li><button id="answer3" class="btn btn-default" type="submit" onclick="checkAnswer3()"></button></li>
        <li><button id="answer4" class="btn btn-default" type="submit" onclick="checkAnswer4()"></button></li>
    </ul>

    <h2 id="isCorrect"></h2>
    <div class="progress">
        <div id="theBar" class="progress-bar progress-bar-info active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">

        </div>
    </div>
</div>

    <script>
        var quiz = [
            {
                "question":"What is the capital of France?",
                "answers": {
                    "answer1":"Lyon",
                    "answer2":"Toulouse",
                    "answer3":"Paris",
                    "answer4":"Venice",
                    "correct":"Paris"
                },
                "correct":3
            },{
                "question":"In which European city can you find the home of Anne Frank?",
                "answers": {
                    "answer1":"Amsterdam",
                    "answer2":"Berlin",
                    "answer3":"London",
                    "answer4":"Helsinki",
                    "correct":"Amsterdam"
                },
                "correct":1
            },{
                "question":"What is the name of the volcano which caused heavy problems for air traffic in northern europe in 2010?",
                "answers": {
                    "answer1":"Eyjafjallaj\u00f6kull",
                    "answer2":"\u00d6r\u00e6faj\u00f6kull",
                    "answer3":"Lj\u00f3sufj\u00f6ll",
                    "answer4":"Sn\u00e6fellsj\u00f6kull",
                    "correct":"Eyjafjallaj\u00f6kull"
                },
                "correct":1
            },{
                "question":"How many countries is have the Euro as their official currency? (1. January 2015)",
                "answers": {
                    "answer1":"17",
                    "answer2":"18",
                    "answer3":"19",
                    "answer4":"20",
                    "correct":"19"
                },
                "correct":3
            }
        ];
        var selected;
        var counterBack;

        $(document).ready(function(){
            selected = Math.floor((Math.random() * (quiz.length - 1)) + 1);
            $('#question').text(quiz[selected].question);
            $('#answer1').text(quiz[selected].answers.answer1);
            $('#answer2').text(quiz[selected].answers.answer2);
            $('#answer3').text(quiz[selected].answers.answer3);
            $('#answer4').text(quiz[selected].answers.answer4);
            var i = 100;
            counterBack = setInterval(function () {
                i--;
                if (i >= 0) {
                    $('.progress-bar').css('width', i + '%');
                } else {
                    timeoutFunction();
                }
            }, 150);
        });

        function checkAnswer1() {
            if (quiz[selected].correct == 1) {
                $('#isCorrect').text("Correct");
            } else {
                $('#isCorrect').text("Wrong, " + quiz[selected].answers.correct);
            }
            disableButtons();
        }

        function checkAnswer2() {
            if (quiz[selected].correct == 2) {
                $('#isCorrect').text("Correct");
            } else {
                $('#isCorrect').text("Wrong, " + quiz[selected].answers.correct);
            }
            disableButtons();
        }

        function checkAnswer3() {
            if (quiz[selected].correct == 3) {
                $('#isCorrect').text("Correct");
            } else {
                $('#isCorrect').text("Wrong, " + quiz[selected].answers.correct);
            }
            disableButtons();
        }

        function checkAnswer4() {
            if (quiz[selected].correct == 4) {
                $('#isCorrect').text("Correct");
            } else {
                $('#isCorrect').text("Wrong, " + quiz[selected].answers.correct);
            }
            disableButtons();
        }

        function disableButtons() {
            document.getElementById("answer1").disabled = true;
            document.getElementById("answer2").disabled = true;
            document.getElementById("answer3").disabled = true;
            document.getElementById("answer4").disabled = true;
            window.clearInterval(counterBack);
            $(document).ready(function(){
                setTimeout(timeoutFunction, 3000);
            });
        }

        function timeoutFunction() {
            document.location.href = "index.html";
        }
    </script>
</body>
</html>